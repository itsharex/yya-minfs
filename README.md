# minFS 分布式文件存储系统


minFS是一个简单的分布式文件存储系统，具备基本的文件操作功能。它支持文件的创建、属性信息查看、删除、文件打开、写入、读取等操作。此外，它还支持获取集群信息，包括主节点和从节点的信息。您可以使用HTTP协议模拟文件操作功能。

## 功能特性

1. 支持文件的创建、属性信息查看、删除等基本操作。
2. 支持文件的打开、写入和读取操作。
3. 提供集群信息获取功能，包括主节点和从节点信息。
4. 文件元数据和内容数据分开存储，元数据包含文件的基本信息，内容数据存储实际文件内容。
5. 元数据服务具备高可用性，支持分布式一致性操作。
6. 文件内容数据支持3副本写，强一致性写，随机一个副本读取。
7. 实现合理的3副本分布，以消除热点问题。
8. 自动检测并修复副本不足问题，确保每个文件有3个副本。

## 部署与运行

1. 通过启动脚本一键启动服务。
2. 集群最小规模为两个metaServer和四个dataServer，分别在8000~8001、9001~9004端口模拟多节点部署。
3. SDK暴露metaServer和dataServer地址信息。

## 目录结构

- `bin/`: 一键启动所有服务的启动脚本 `start.sh`。
- `metaServer/`: 元数据服务，包含主服务jar、lib、日志目录等。
- `dataServer/`: 内容数据服务，包含主服务jar、lib、日志目录等。
- `easyClient/`: 包含客户端SDK的jar文件 `easyClient-1.0.jar`。

## 需要的第三方组件

- ZooKeeper: 可通过启动参数 `-Dzookeeper.addr=10.0.0.201:2181` 指定。

## 注意事项

- 集群内部心跳超时时间小于30s，fsck+recovery扫描、恢复周期小于等于120s。
- 最终业务编译后放入`workpublish`目录下。

## 验收环境

- ZooKeeper地址：10.0.0.201:2181

